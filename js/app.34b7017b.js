(function(e){function t(t){for(var r,a,i=t[0],c=t[1],l=t[2],d=0,p=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&p.push(n[a][0]),n[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],r=!0,i=1;i<s.length;i++){var c=s[i];0!==n[c]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=s[0]))}return e}var r={},n={app:0},o=[];function a(t){if(r[t])return r[t].exports;var s=r[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=r,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(s,r,function(t){return e[t]}.bind(null,r));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/music-step-sequencer/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"199c":function(module,__webpack_exports__,__webpack_require__){"use strict";var howler__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("1e5c"),howler__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(howler__WEBPACK_IMPORTED_MODULE_0__),_components_SoundTracks_vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("5a17"),_components_SoundControls_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("487e"),_components_SoundPresets_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("5a00"),kick=new howler__WEBPACK_IMPORTED_MODULE_0__["Howl"]({src:["https://raw.githubusercontent.com/codeknack/music-step-sequencer/master/src/assets/sounds/kick.mp3"]}),snare=new howler__WEBPACK_IMPORTED_MODULE_0__["Howl"]({src:["https://raw.githubusercontent.com/codeknack/music-step-sequencer/master/src/assets/sounds/snare.mp3"]}),hihat=new howler__WEBPACK_IMPORTED_MODULE_0__["Howl"]({src:["https://raw.githubusercontent.com/codeknack/music-step-sequencer/master/src/assets/sounds/hihat.mp3"]}),shaker=new howler__WEBPACK_IMPORTED_MODULE_0__["Howl"]({src:["https://raw.githubusercontent.com/codeknack/music-step-sequencer/master/src/assets/sounds/shaker.mp3"]}),audioContext=new AudioContext;__webpack_exports__["a"]={name:"App",components:{SoundTracks:_components_SoundTracks_vue__WEBPACK_IMPORTED_MODULE_1__["a"],SoundControls:_components_SoundControls_vue__WEBPACK_IMPORTED_MODULE_2__["a"],SoundPresets:_components_SoundPresets_vue__WEBPACK_IMPORTED_MODULE_3__["a"]},data:function(){return{tempo:120,tracks:{kick:[],snare:[],hihat:[],shaker:[]},futureTickTime:audioContext.currentTime,counter:0,timerID:null,isPlaying:!1}},computed:{secondsPerBeat:function(){return 60/this.tempo},counterTimeValue:function(){return this.secondsPerBeat/4},currentPreset:function(){return{tempo:this.tempo,tracks:this.tracks}}},methods:{scheduleSound:function(e,t,s){for(var r=0;r<e.length;r+=1)s===e[r]&&t.play()},playTick:function(){this.counter+=1,this.futureTickTime+=this.counterTimeValue,this.counter>15&&(this.counter=0)},scheduler:function(){this.futureTickTime<audioContext.currentTime+.1&&(this.scheduleSound(this.tracks.kick,kick,this.counter),this.scheduleSound(this.tracks.snare,snare,this.counter),this.scheduleSound(this.tracks.hihat,hihat,this.counter),this.scheduleSound(this.tracks.shaker,shaker,this.counter),this.playTick()),this.timerID=window.setTimeout(this.scheduler,0)},play:function(){!1===this.isPlaying&&(this.counter=0,this.futureTickTime=audioContext.currentTime,this.scheduler(),this.isPlaying=!0)},stop:function(){!0===this.isPlaying&&(window.clearTimeout(this.timerID),this.isPlaying=!1)},playSound:function playSound(sound){eval(sound).play()},muteSound:function muteSound(obj){eval(obj["sound"]).mute(!obj["toggle"])},clearTracks:function(){this.tracks={kick:[],snare:[],hihat:[],shaker:[]}},loadPreset:function(e){var t=JSON.parse(localStorage.getItem("userPresets"));this.tempo=t[e].tempo,this.tracks=t[e].tracks}}}},"487e":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"d-flex justify-space-between"},[s("div",{staticClass:"ml-2"},[s("v-btn",{on:{click:e.play}},[s("v-icon",{staticClass:"orange--text"},[e._v("mdi-play")])],1),s("v-btn",{staticClass:"ml-2",on:{click:e.stop}},[s("v-icon",{staticClass:"orange--text"},[e._v("mdi-stop")])],1)],1),s("div",{staticClass:"d-flex align-center"},[s("v-icon",{staticClass:"mr-3 blue--text"},[e._v("mdi-metronome-tick")]),s("v-rating",{attrs:{"full-icon":"mdi-metronome","empty-icon":"mdi-metronome-tick",color:"green","background-color":"grey darken-3",length:"4",readonly:""},model:{value:e.metronome,callback:function(t){e.metronome=t},expression:"metronome"}})],1)]),s("div",[s("v-slider",{staticClass:"ml-3",attrs:{color:"light-green",dense:"",max:"180",min:"60",step:"10",label:"Tempo: "+e.localTempo+" BPM"},on:{click:e.updateTempo},model:{value:e.localTempo,callback:function(t){e.localTempo=t},expression:"localTempo"}})],1)])},n=[],o={props:["tempo","counter","isPlaying"],data:function(){return{localTempo:this.tempo,metronome:0}},watch:{counter:function(e){this.isPlaying&&(e>=0&&e<=3?this.metronome=1:e>3&&e<=7?this.metronome=2:e>7&&e<=11?this.metronome=3:e>11&&e<=15&&(this.metronome=4))},tempo:function(e){this.localTempo=e}},methods:{play:function(){this.$emit("play")},stop:function(){this.$emit("stop"),this.metronome=0},updateTempo:function(){this.$emit("update:tempo",this.localTempo)}}},a=o,i=s("2877"),c=s("6544"),l=s.n(c),u=s("8336"),d=s("132d"),p=s("1d4d"),m=s("ba0d"),_=Object(i["a"])(a,r,n,!1,null,null,null);t["a"]=_.exports;l()(_,{VBtn:u["a"],VIcon:d["a"],VRating:p["a"],VSlider:m["a"]})},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-card",{staticClass:"mx-auto",attrs:{dark:"",width:"580","max-width":"580"}},[s("v-toolbar",{attrs:{color:"grey darken-3"}},[s("v-icon",{staticClass:"orange--text text--lighten-1 mr-3"},[e._v("mdi-piano")]),s("v-toolbar-title",{staticClass:"blue--text headline"},[e._v("Music Step Sequencer")])],1),s("SoundTracks",{attrs:{tracks:e.tracks},on:{playsound:e.playSound,mutesound:e.muteSound}}),s("SoundControls",{attrs:{tempo:e.tempo,counter:e.counter,isPlaying:e.isPlaying},on:{"update:tempo":function(t){e.tempo=t},play:e.play,stop:e.stop}}),s("SoundPresets",{attrs:{currentPreset:e.currentPreset},on:{cleartracks:e.clearTracks,loadpreset:e.loadPreset}})],1)],1)},o=[],a=s("199c"),i=a["a"],c=s("2877"),l=s("6544"),u=s.n(l),d=s("7496"),p=s("b0af"),m=s("132d"),_=s("71d9"),h=s("2a7f"),v=Object(c["a"])(i,n,o,!1,null,null,null),f=v.exports;u()(v,{VApp:d["a"],VCard:p["a"],VIcon:m["a"],VToolbar:_["a"],VToolbarTitle:h["a"]});var g=s("f309");r["a"].use(g["a"]);var k=new g["a"]({});r["a"].config.productionTip=!1,new r["a"]({vuetify:k,render:function(e){return e(f)}}).$mount("#app")},"5a00":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"d-flex ma-2"},[s("v-btn",{attrs:{color:"blue"},on:{click:e.clearTracks}},[e._v(" Clear Tracks ")]),s("v-btn",{staticClass:"ml-2",attrs:{color:"blue"},on:{click:function(t){t.stopPropagation(),e.dialog=!0}}},[e._v(" Save Preset ")]),s("v-spacer"),s("v-btn",{attrs:{color:"red"},on:{click:e.deleteAllPresets}},[e._v(" Delete All Presets ")])],1),s("v-card",[s("v-card-title",[e._v("Presets: "+e._s(e.selectedPreset))]),s("v-slide-y-transition",[s("v-card-text",{directives:[{name:"show",rawName:"v-show",value:e.isEmpty(e.userPresets),expression:"isEmpty(userPresets)"}],staticClass:"grey--text font-italic text-center text-caption"},[e._v("Currently there are no presets created. To create a new preset fill in some cells in the tracks and hit the Save Preset button.")])],1),s("v-scroll-y-transition",[e.isEmpty(e.userPresets)?e._e():s("div",e._l(e.userPresets,(function(t,r){return s("v-chip",{key:r,staticClass:"ma-2",attrs:{close:"","close-icon":"mdi-delete-forever",color:"orange",label:""},on:{"click:close":function(t){return e.deletePreset(r)},click:function(t){return e.loadPreset(r)}}},[e._v(" "+e._s(r)+" ")])})),1)])],1),s("v-dialog",{attrs:{"max-width":"290",light:"",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",{attrs:{light:"",rounded:""}},[s("v-card-title",{staticClass:"headline blue--text"},[e._v("Save preset as:")]),s("v-text-field",{staticClass:"ma-2",attrs:{label:"Preset Name",placeholder:"Type preset name here",rules:[e.rules.required,e.rules.counter]},model:{value:e.presetName,callback:function(t){e.presetName=t},expression:"presetName"}}),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"green lighten-2",text:""},on:{click:e.cancelDialog}},[e._v(" Cancel ")]),s("v-btn",{attrs:{color:"green darken-2",text:"",disabled:!(e.presetName.length>=3)},on:{click:e.savePreset}},[e._v(" Save ")])],1)],1)],1)],1)},n=[],o=(s("4fad"),{created:function(){this.userPresets=JSON.parse(localStorage.getItem("userPresets")||"{}")},props:["currentPreset"],data:function(){return{dialog:!1,presetName:"",rules:{required:function(e){return!!e||"Required."},counter:function(e){return e.length>=3||"At least 3 characters required"}},userPresets:{},selectedPreset:""}},methods:{clearTracks:function(){this.$emit("cleartracks"),this.selectedPreset=""},loadPreset:function(e){this.$emit("loadpreset",e),this.selectedPreset=e},savePreset:function(){this.dialog=!1,this.userPresets[this.presetName]={};var e=Object.assign({},this.currentPreset.tracks);this.userPresets[this.presetName].tempo=this.currentPreset.tempo,this.userPresets[this.presetName].tracks=e,localStorage.setItem("userPresets",JSON.stringify(this.userPresets)),this.presetName=""},cancelDialog:function(){this.dialog=!1,this.presetName=""},deletePreset:function(e){this.$delete(this.userPresets,e),localStorage.setItem("userPresets",JSON.stringify(this.userPresets)),e==this.selectedPreset&&(this.selectedPreset="")},deleteAllPresets:function(){localStorage.clear(),this.userPresets={}},isEmpty:function(e){return 0===Object.entries(e).length}}}),a=o,i=s("2877"),c=s("6544"),l=s.n(c),u=s("8336"),d=s("b0af"),p=s("99d9"),m=s("cc20"),_=s("169a"),h=s("0789"),v=s("2fa4"),f=s("8654"),g=Object(i["a"])(a,r,n,!1,null,null,null);t["a"]=g.exports;l()(g,{VBtn:u["a"],VCard:d["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VChip:m["a"],VDialog:_["a"],VScrollYTransition:h["e"],VSlideYTransition:h["g"],VSpacer:v["a"],VTextField:f["a"]})},"5a17":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[e._l(e.tracks,(function(t,r){return[s("v-row",{key:r,attrs:{align:"center",dense:""}},[s("v-col",{attrs:{cols:"1"}},[s("v-switch",{attrs:{inset:"",dense:"",color:"light-green"},on:{change:function(t){return e.muteSound(r,e.toggles[r])}},model:{value:e.toggles[r],callback:function(t){e.$set(e.toggles,r,t)},expression:"toggles[name]"}})],1),s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{fab:"",raised:"",small:""},on:{click:function(t){return e.playSound(r)}}},[s("v-icon",{directives:[{name:"show",rawName:"v-show",value:e.toggles[r],expression:"toggles[name]"}],staticClass:"green--text"},[e._v("mdi-volume-high")]),s("v-icon",{directives:[{name:"show",rawName:"v-show",value:!e.toggles[r],expression:"!toggles[name]"}],staticClass:"grey--text"},[e._v("mdi-volume-off")])],1)],1),s("v-col",{attrs:{cols:"10"}},[s("v-btn-toggle",{attrs:{multiple:""},model:{value:e.tracks[r],callback:function(t){e.$set(e.tracks,r,t)},expression:"tracks[name]"}},e._l(16,(function(e){return s("v-btn",{key:e,attrs:{color:"lime accent-4",height:"40",small:"",icon:""}})})),1)],1)],1)]}))],2)},n=[],o={props:["tracks"],data:function(){return{toggles:{kick:!0,snare:!0,hihat:!0,shaker:!0}}},methods:{playSound:function(e){this.$emit("playsound",e)},muteSound:function(e,t){this.$emit("mutesound",{sound:e,toggle:t})}}},a=o,i=s("2877"),c=s("6544"),l=s.n(c),u=s("8336"),d=s("a609"),p=s("62ad"),m=s("a523"),_=s("132d"),h=s("0fd9"),v=s("b73d"),f=Object(i["a"])(a,r,n,!1,null,null,null);t["a"]=f.exports;l()(f,{VBtn:u["a"],VBtnToggle:d["a"],VCol:p["a"],VContainer:m["a"],VIcon:_["a"],VRow:h["a"],VSwitch:v["a"]})}});
//# sourceMappingURL=app.34b7017b.js.map